image: golang:1.14.2-stretch

stages:
  - build-recs
  - build-spotify

build-recs:
  stage: build-recs
  script:
    - go build -o recs-api ./services/recs-api/main.go
  only:
    changes:
      - "services/recs-api"

build-spotify:
  stage: build-recs
  script:
    - go build -o spotify-poller ./services/spotify-poller/cmd/main.go